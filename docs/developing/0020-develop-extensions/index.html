<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developing/0020-develop-extensions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Developing Extensions | Virtual Client Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/VirtualClient/docs/developing/0020-develop-extensions/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="performance, benchmarking, automation, framework, microsoft"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developing Extensions | Virtual Client Platform"><meta data-rh="true" name="description" content="The following sections cover the fundamentals to consider when developing extensions to the Virtual Client. Extensions refers to profiles or component"><meta data-rh="true" property="og:description" content="The following sections cover the fundamentals to consider when developing extensions to the Virtual Client. Extensions refers to profiles or component"><link data-rh="true" rel="icon" href="/VirtualClient/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/VirtualClient/docs/developing/0020-develop-extensions/"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0020-develop-extensions/" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0020-develop-extensions/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0I7D8A07MA-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/VirtualClient/blog/rss.xml" title="Virtual Client Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/VirtualClient/blog/atom.xml" title="Virtual Client Platform Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Virtual Client Platform" href="/VirtualClient/opensearch.xml"><link rel="stylesheet" href="/VirtualClient/assets/css/styles.fe082272.css">
<script src="/VirtualClient/assets/js/runtime~main.781da10b.js" defer="defer"></script>
<script src="/VirtualClient/assets/js/main.78f43021.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like VirtualClient, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/microsoft/VirtualClient">GitHub</a> ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/VirtualClient/"><div class="navbar__logo"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Virtual Client</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/VirtualClient/docs/overview/">Documentation</a><a class="navbar__item navbar__link" href="/VirtualClient/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/overview/">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/guides/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/workloads/">Workloads</a><button aria-label="Expand sidebar category &#x27;Workloads&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/monitors/">Monitors</a><button aria-label="Expand sidebar category &#x27;Monitors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/dependencies/">Dependencies</a><button aria-label="Expand sidebar category &#x27;Dependencies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/VirtualClient/docs/category/developing/">Developing</a><button aria-label="Collapse sidebar category &#x27;Developing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0001-ci-cd/">Automated Build and CI/CD pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0010-develop-guide/">Developer Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/VirtualClient/docs/developing/0020-develop-extensions/">Developing Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0030-workload-onboarding/">Workload Onboarding Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0040-vc-packages/">VC Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0050-develop-profiling-monitor/">Profiler Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0060-workload-recommendations/">Workload Selection Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0061-build-docker-container/">Building Docker Containers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0070-error-handling/">Error Handling Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0080-coding-standards/">Coding Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0090-testing/">Testing Practices</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/VirtualClient/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/VirtualClient/docs/category/developing/"><span itemprop="name">Developing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developing Extensions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Developing Extensions</h1>
<p>The following sections cover the fundamentals to consider when developing extensions to the Virtual Client. Extensions refers to profiles or component
binaries/.dlls containing actions, monitors, dependency handlers etc... that are developed in a separate repo/location than the Virtual Client platform/core
repo. Extensions allow development teams to add features to the Virtual Client runtime platform that are specialized towards their team&#x27;s needs and charter.
Before getting started, it is helpful to familiarize yourself with the Virtual Client platform design and concepts.</p>
<ul>
<li><a href="/VirtualClient/docs/developing/0010-develop-guide/">General Developer Guide</a></li>
<li><a href="/VirtualClient/docs/guides/0221-usage-extensions/">Integrating Extensions at Runtime</a></li>
</ul>
<p>The following example extensions repo can be used for reference to the details described within this guide.</p>
<ul>
<li><a href="https://msazure.visualstudio.com/One/_git/CRC-VirtualClient-Examples" target="_blank" rel="noopener noreferrer">CRC-VirtualClient-Examples Git Repo</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="platform-libraries">Platform Libraries<a class="hash-link" aria-label="Direct link to Platform Libraries" title="Direct link to Platform Libraries" href="/VirtualClient/docs/developing/0020-develop-extensions/#platform-libraries">​</a></h2>
<ul>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nuget-packageslibraries">NuGet Packages/Libraries<a class="hash-link" aria-label="Direct link to NuGet Packages/Libraries" title="Direct link to NuGet Packages/Libraries" href="/VirtualClient/docs/developing/0020-develop-extensions/#nuget-packageslibraries">​</a></h4>
<ul>
<li>
<p><strong>VirtualClient.Framework</strong><br>
<!-- -->Contains the fundamental classes and interfaces required to develop actions, monitors and dependency handlers for the Virtual Client.</p>
</li>
<li>
<p><strong>VirtualClient.TestFramework</strong><br>
<!-- -->Contains classes and interfaces that ease the task of writing unit and functional tests for extensions codebase.</p>
</li>
</ul>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">Project</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Sdk</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Microsoft.NET.Sdk</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">PropertyGroup</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">TargetFramework</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">net8.0</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">TargetFramework</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">RootNamespace</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">CRC.VirtualClient.Extensions</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">RootNamespace</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">PropertyGroup</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">ItemGroup</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">PackageReference</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Include</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">VirtualClient.Framework</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Version</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">1.0.1900.660</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag punctuation" style="color:#657b83">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">ItemGroup</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">Import</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Project</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), Module.props))\Module.props</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag punctuation" style="color:#657b83">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">Project</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="platform-requirements">Platform Requirements<a class="hash-link" aria-label="Direct link to Platform Requirements" title="Direct link to Platform Requirements" href="/VirtualClient/docs/developing/0020-develop-extensions/#platform-requirements">​</a></h2>
<p>The Virtual Client is a .NET 8.0 application. Assemblies containing extensions to the Virtual Client must likewise be built against the .NET 8.0 framework
SDK. Assemblies compiled for the Virtual Client must have the term &#x27;VirtualClient&#x27; in them. It is recommended that the following format be used when
naming your assemblies. This will help to avoid any conflicts with extensions produced by other teams.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token preprocessor property" style="color:#2aa198"># Format:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">TeamName</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">ComponentTypesWithin</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token preprocessor property" style="color:#2aa198"># Examples:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">CRC</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Actions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">CRC</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Monitors</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">CRC</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Dependencies</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">dll</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In addition, the following attribute must be added to a code file (typically an AssemblyInfo.cs file) within the each project that contains components
that when compiled can be used in the Virtual Client.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token preprocessor property" style="color:#2aa198"># Contents of an AssemblyInfo.cs file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">assembly</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Contracts</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClientComponentAssembly</span><span class="token punctuation" style="color:#657b83">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="versioning-requirements">Versioning Requirements<a class="hash-link" aria-label="Direct link to Versioning Requirements" title="Direct link to Versioning Requirements" href="/VirtualClient/docs/developing/0020-develop-extensions/#versioning-requirements">​</a></h2>
<p>The following section provides requirements to follow when considering versions of the platform libraries to reference. The VC Team follows a process of
semantic versioning with the Virtual Client runtime application and framework libraries. The versions of the assemblies/.dlls/.exes can be used to determine
which version of the NuGet packages should be used. The following resource explains the versioning process.</p>
<p>It is recommended that you follow the same &quot;semantic versioning&quot; strategy as is followed for the Virtual Client platform. The following examples
illustrate versions of extensions (when compiled) that would be expected to work with a specific Virtual Client release. It is really only the
&#x27;major&#x27; and &#x27;minor&#x27; versions that are important here. The following table illustrates the general idea.</p>
<table><thead><tr><th>VirtualClient.Framework Library Version</th><th>Supported VirtualClient.exe Versions</th><th>Version to use for Extensions Library Builds</th><th>Examples</th></tr></thead><tbody><tr><td>1.0.* (e.g. 1.0.1900.660)</td><td>1.0.* (e.g. 1.0.1930.665)</td><td>1.0.* (e.g. 1.0.0.0)</td><td>VirtualClient.exe version 1.0.1900.660 will support framework library versions from 1.0.0.0 to &lt; 1.1.0.0. The framework versions will almost always have a version similar to the runtime .exe version; however, this illustrates the idea of the version range supported.</td></tr><tr><td>1.1.* (e.g. 1.1.1950.120)</td><td>1.1.* (e.g. 1.1.1960.125)</td><td>1.1.* (e.g. 1.1.0.0)</td><td>VirtualClient.exe version 1.1.1950.120 will support framework library versions from 1.1.0.0 to &lt; 1.2.0.0.</td></tr><tr><td>2.0.* (e.g. 2.0.2000.500)</td><td>2.0.* (e.g. 2.0.2001.505)</td><td>2.0.* (e.g. 2.0.0.0)</td><td>VirtualClient.exe version 2.0.2000.500 will support framework library versions from 2.0.0.0 to &lt; 2.1.0.0.</td></tr><tr><td>2.1.* (e.g. 2.1.2100.100)</td><td>2.1.* (e.g. 2.1.2200.300)</td><td>2.1.* (e.g. 2.1.0.0)</td><td>VirtualClient.exe version 2.1.2100.100 will support framework library versions from 2.1.0.0 to &lt; 2.2.0.0.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="packaging-requirements">Packaging Requirements<a class="hash-link" aria-label="Direct link to Packaging Requirements" title="Direct link to Packaging Requirements" href="/VirtualClient/docs/developing/0020-develop-extensions/#packaging-requirements">​</a></h2>
<p>Virtual Client extensions are loaded into runtime execution via dependency packages similarly to the way that other types of dependencies
(e.g. workload binaries, scripts etc...) are integrated. A Virtual Client dependency package is nothing more than a structured .zip file
that contains the files required for a particular dependency. Dependency packages allow Virtual Client to support a number of different scenarios
including those that are disconnected from the internet. Additionally, they enable each version of the Virtual Client to operate using exact/known
binaries, scripts etc... This is an important concept both for producing repeatable results as well as for simplifying deployment and setup requirements.</p>
<p>For extensions packages, the following illustrates the expected folder structure and contents. Note that you do not have to compile your libraries
specifically for the platform/architectures noted below. Compilation against &#x27;AnyCPU&#x27; is sufficient to keep things simple. An extensions package
will have the following content.</p>
<ul>
<li>
<p><strong>Package Definition File</strong><br>
<!-- -->A package definition is a simple JSON file that is placed in the root directory of the package that defines the name and description of the
package, its version and any metadata properties desired. In this way, Virtual Client packages are &quot;self-describing&quot;. This file should typically be
named the same as the &#x27;name&#x27; property within its contents and MUST have a <strong>.vcpkg</strong> extension. Additionally, the &#x27;metadata&#x27; should contain a property
named <strong>extensions</strong> that is set to true.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain"># Example contents of the package definition file named &#x27;crcvcextensions.vcpkg&#x27;.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;name&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;crcvcextensions&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;description&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;VC Team Virtual Client extensions.&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;version&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;1.0.1&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;metadata&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token property" style="color:#2aa198">&quot;extensions&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Profile Extensions</strong><br>
<!-- -->Profile extensions are not required. If they exist, the files should be placed inside of the appropriate folder for each platform/architecture supported
(e.g. win-x64, linux-x64) in a folder named <strong>profiles</strong>.</p>
</li>
<li>
<p><strong>Binary/.dll Extensions</strong><br>
<!-- -->Binary extensions are not required. If they exist, the binary/.dll extensions should be placed inside of the appropriate folder for each platform/architecture supported
(e.g. win-x64, linux-x64).</p>
<p>The following illustrates the folder structure expected for an extensions package called &#x27;crc.vc.extensions&#x27;.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain"> -------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1"># Folder Structure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> -------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    crcvcextensions.vcpkg</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        A Virtual Client package </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">.vcpkg</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> definition that has a metadata property called </span><span class="token string" style="color:#8dc891">&#x27;extensions&#x27;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> to true. This </span><span class="token function" style="color:#79b6f2">file</span><span class="token plain"> should exist</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the root directory of the package.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /linux-arm64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">binaries</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Any additional binaries that can be used on Linux/ARM64 systems are placed directly </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the linux-arm64 folder.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          /profiles</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Folder contains any additional profiles that can be used on Linux/ARM64 systems.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /linux-x64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">binaries</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Any additional binaries that can be used on Linux/x64 systems are placed directly </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the linux-x64 folder.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          /profiles</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Folder contains any additional profiles that can be used on Linux/x64 </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">Intel, AMD</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> systems.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">           </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /win-arm64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">binaries</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Any additional binaries that can be used on Windows/ARM64 systems are placed directly </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the win-arm64 folder.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          /profiles</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Folder contains any additional profiles that can be used on Windows/ARM64 systems.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /win-x64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">binaries</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Any additional binaries that can be used on Windows/x64 systems are placed directly </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the win-x64 folder.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          /profiles</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              Folder contains any additional profiles that can be used on Windows/x64 </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">Intel, AMD</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> systems.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> -------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1"># Example </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> -------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/crcvcextensions.vcpkg</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1"># binaries...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-arm64/CRC.VirtualClient.Extensions.Actions.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-arm64/CRC.VirtualClient.Extensions.Actions.pdb</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-x64/CRC.VirtualClient.Extensions.Actions.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-x64/CRC.VirtualClient.Extensions.Actions.pdb</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-arm64/CRC.VirtualClient.Extensions.Actions.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-arm64/CRC.VirtualClient.Extensions.Actions.pdb</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-x64/CRC.VirtualClient.Extensions.Actions.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-x64/CRC.VirtualClient.Extensions.Actions.pdb</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1"># profiles...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-arm64/profiles/EXAMPLE-WORKLOAD-PROFILE.json</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/linux-x64/profiles/EXAMPLE-WORKLOAD-PROFILE.json</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-arm64/profiles/EXAMPLE-WORKLOAD-PROFILE.json</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> /crc.vc.extensions/win-x64/profiles/EXAMPLE-WORKLOAD-PROFILE.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-useintegrate-extensions">How To Use/Integrate Extensions<a class="hash-link" aria-label="Direct link to How To Use/Integrate Extensions" title="Direct link to How To Use/Integrate Extensions" href="/VirtualClient/docs/developing/0020-develop-extensions/#how-to-useintegrate-extensions">​</a></h2>
<p>Once extensions have been developed and an extensions package exists, they can be used in the Virtual Client runtime. See the following documentation
for details on how to integrate extensions into the runtime.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="place-extensions-directly-in-virtual-client-application-folder">Place Extensions Directly in Virtual Client Application Folder<a class="hash-link" aria-label="Direct link to Place Extensions Directly in Virtual Client Application Folder" title="Direct link to Place Extensions Directly in Virtual Client Application Folder" href="/VirtualClient/docs/developing/0020-develop-extensions/#place-extensions-directly-in-virtual-client-application-folder">​</a></h3>
<p>The simplest way to integrate extensions binaries, profiles or packages into Virtual Client is to copy the files directly to the Virtual Client application
directory (e.g. /virtualclient, /virtualclient/profiles, /virtualclient/packages).</p>
<ul>
<li>
<p>Extensions binaries/.dlls can be placed directly in the root directory of the Virtual Client application (i.e. right beside the VirtualClient executable).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Given an installation location /home/users/virtualclient, the binaries/.dlls </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># can be copied into the root directory directly.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/Custom.VirtualClient.Extensions.Actions.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/Custom.VirtualClient.Extensions.Dependencies.dll</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/Custom.VirtualClient.Extensions.Monitors.dll</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Extensions profiles can be placed directly in the Virtual Client &#x27;profiles&#x27; directory alongside the existing/out-of-box profiles.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Given an installation location /home/users/virtualclient, the profiles </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># can be copied into the &#x27;profiles&#x27; directory directly.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/profiles/PERF-CUSTOM-WORKLOAD-A.json</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/profiles/PERF-CUSTOM-WORKLOAD-B.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Extensions packages can be placed directly in the Virtual Client &#x27;packages&#x27; directory.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Given an installation location /home/users/virtualclient, the packages </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># can be copied into the &#x27;packages&#x27; directory directly.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/packages/customworkload_a.1.0.0.zip</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/users/virtualclient/packages/customworkload_b.1.0.0.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-extensions-from-other-locations-on-the-system">Reference Extensions from Other Locations on the System<a class="hash-link" aria-label="Direct link to Reference Extensions from Other Locations on the System" title="Direct link to Reference Extensions from Other Locations on the System" href="/VirtualClient/docs/developing/0020-develop-extensions/#reference-extensions-from-other-locations-on-the-system">​</a></h3>
<p>Virtual Client enables the user/developer to define additional locations to look for extensions during execution startup. To do so, the user/developer can set
custom environment variables on the system to provide Virtual Client with the alternate locations. Virtual Client will look for dependencies in both the default
locations (normal operation) as well as within these alternate locations.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="supported-environment-variables">Supported Environment Variables<a class="hash-link" aria-label="Direct link to Supported Environment Variables" title="Direct link to Supported Environment Variables" href="/VirtualClient/docs/developing/0020-develop-extensions/#supported-environment-variables">​</a></h4>
<p>The following environment variables can be used to define alternate locations for dependencies:</p>
<ul>
<li>
<p><strong>VC_LIBRARY_PATH</strong><br>
<!-- -->Defines 1 or more path locations where extensions assemblies/.dlls exist and that should be loaded at runtime. Multiple directory paths can be defined separated
by a semi-colon &#x27;;&#x27; character (similar to the Windows and Linux <code>PATH</code> environment variable). Note that Virtual Client will search the immediate directory only
for extension assemblies/.dlls. Recursive subdirectory searches are not supported.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Example Folder Contents:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /VirtualClient.Extensions.Actions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /VirtualClient.Extensions.Actions.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /VirtualClient.Extensions.Actions.pdb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /VirtualClient.Extensions.Monitors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /VirtualClient.Extensions.Monitors.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /VirtualClient.Extensions.Monitors.pdb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Windows systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_LIBRARY_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient.Extensions.Actions</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_LIBRARY_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient.Extensions.Actions</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient.Extensions.Monitors</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Linux systems.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_LIBRARY_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/Extensions/VirtualClient.Extensions.Actions</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_LIBRARY_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/Extensions/VirtualClient.Extensions.Actions</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">/home/user/Extensions/VirtualClient.Extensions.Monitors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>VC_PACKAGES_PATH</strong><br>
<!-- -->Defines 1 or more path locations where Virtual Client packages (including extensions packages) exist. Multiple directory paths can be defined separated by a semi-colon &#x27;;&#x27; character (similar to the Windows
and Linux <code>PATH</code> environment variable). Note that Virtual Client will search the immediate directory only for packages. Recursive subdirectory searches are
not supported.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Example Folder Contents:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /CustomPackages1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /customworkload_a.1.0.0.zip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /customworkload_b.1.0.0.zip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /CustomPackages2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /customworkload_c.1.0.0.zip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /customworkload_d.1.0.0.zip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Windows systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PACKAGES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PACKAGES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages1</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages2</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Linux systems.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PACKAGES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/CustomPackages1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PACKAGES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/CustomPackages1</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">/home/user/CustomPackages2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>VC_PROFILES_PATH</strong><br>
<!-- -->Defines 1 or more path locations where extensions profiles exist and that should be available for use during execution. Multiple directory paths can be defined separated
by a semi-colon &#x27;;&#x27; character (similar to the Windows and Linux <code>PATH</code> environment variable). Note that Virtual Client will search the immediate directory only for extension
profiles. Recursive subdirectory searches are not supported.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Example Folder Contents:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /CustomProfiles1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /PERF-CUSTOM-WORKLOAD-A.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /PERF-CUSTOM-WORKLOAD-B.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># /CustomProfiles2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /PERF-CUSTOM-WORKLOAD-C.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#      /PERF-CUSTOM-WORKLOAD-D.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Windows systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PROFILES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#fac863">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PROFILES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages1</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">CustomPackages2</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># On Linux systems.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PROFILES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/CustomProfiles1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/user/virtualclient$ </span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">VC_PROFILES_PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">/home/user/CustomProfiles1</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain">/home/user/CustomProfiles2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="priority-of-operations">Priority of Operations<a class="hash-link" aria-label="Direct link to Priority of Operations" title="Direct link to Priority of Operations" href="/VirtualClient/docs/developing/0020-develop-extensions/#priority-of-operations">​</a></h4>
<p>Given multiple of these environment variables are defined at the same time, Virtual Client will perform the search (and load/install) operations in the
following way:</p>
<ul>
<li>
<p><strong>Priority for extensions packages and binaries/.dlls:</strong></p>
<ul>
<li>Packages with &quot;extensions&quot; in the default Virtual Client <code>/packages</code> folder are installed. This includes assemblies/.dlls and profiles extensions.</li>
<li>Packages with &quot;extensions&quot; in directories defined in the <code>VC_PACKAGES_PATH</code> environment variable are installed. This includes assemblies/.dlls and profiles extensions.
However, packages that exist in the <code>/packages</code> folder have precedence. Duplicate packages found in the paths defined by this environment variable will be ignored.</li>
<li>Binaries/.dlls in directories defined in the <code>VC_LIBRARY_PATH</code> environment variable are loaded into the runtime unless a duplicate (by name) is already loaded.
Duplicate binaries/.dlls in the paths defined by this environment variable will be ignored.</li>
</ul>
</li>
<li>
<p><strong>Priority for extensions profile:</strong></p>
<ul>
<li>Profiles that are in the default Virtual Client <code>packages</code> folder have highest precedence.</li>
<li>Profiles in directories defined in the <code>VC_PROFILES_PATH</code> environment variable have secondary precedence.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="downloaded-extensions-from-a-package-store">Downloaded Extensions from a Package Store<a class="hash-link" aria-label="Direct link to Downloaded Extensions from a Package Store" title="Direct link to Downloaded Extensions from a Package Store" href="/VirtualClient/docs/developing/0020-develop-extensions/#downloaded-extensions-from-a-package-store">​</a></h3>
<p>The default for most Virtual Client scenarios is to download extensions from a package store. The <strong>VirtualClient bootstrap</strong> command can be used to download
extensions from a package store and install them.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Package/Blob Store Structure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/container</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">packages/blob</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">crc.vc.extensions.zip</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Execute bootstrap command to download and install the extensions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Any</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> VirtualClient.exe bootstrap </span><span class="token parameter variable" style="color:#cb4b16">--package</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">crc.vc.extensions.zip </span><span class="token parameter variable" style="color:#cb4b16">--name</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">crcvcextensions </span><span class="token parameter variable" style="color:#cb4b16">--packages</span><span class="token operator" style="color:#fc929e">=</span><span class="token string" style="color:#8dc891">&quot;{BlobStoreConnectionString|SAS URI}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Execute an extensions profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Any</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> VirtualClient.exe </span><span class="token parameter variable" style="color:#cb4b16">--profile</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">EXAMPLE-WORKLOAD-PROFILE.json </span><span class="token parameter variable" style="color:#cb4b16">--timeout</span><span class="token operator" style="color:#fc929e">=</span><span class="token number" style="color:#5a9bcf">1440</span><span class="token plain"> </span><span class="token parameter variable" style="color:#cb4b16">--packages</span><span class="token operator" style="color:#fc929e">=</span><span class="token string" style="color:#8dc891">&quot;{BlobStoreConnectionString|SAS URI}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-custom-defined-bootstrap-profile-is-used">A Custom-Defined Bootstrap Profile is Used<a class="hash-link" aria-label="Direct link to A Custom-Defined Bootstrap Profile is Used" title="Direct link to A Custom-Defined Bootstrap Profile is Used" href="/VirtualClient/docs/developing/0020-develop-extensions/#a-custom-defined-bootstrap-profile-is-used">​</a></h3>
<p>The developer can choose to use a custom profile for bootstrapping/installing extensions as well.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain"># Profile = BOOTSTRAP-EXTENSIONS.json</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;Description&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Installs extensions from a package store.&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;Dependencies&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Type&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;DependencyPackageInstallation&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Parameters&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Scenario&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;InstallCRCExtensionsPackage&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;BlobContainer&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;packages&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;BlobName&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;crc.vc.extensions.zip&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;PackageName&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;crcvcextensions&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Extract&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>...Then you can use it! Note that the profile can exist in another directory location and be referenced by the path to the file (full or relative path).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Package/Blob Store Structure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/container</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">packages/blob</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">crc.vc.extensions.zip</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># 1) Execute Bootstrap Command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/VirtualClient/VirtualClient.exe </span><span class="token parameter variable" style="color:#cb4b16">--profile</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">S:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Some</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Other</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Folder</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">BOOTSTRAP-EXTENSIONS.json </span><span class="token parameter variable" style="color:#cb4b16">--dependencies</span><span class="token plain"> </span><span class="token parameter variable" style="color:#cb4b16">--packages</span><span class="token operator" style="color:#fc929e">=</span><span class="token string" style="color:#8dc891">&quot;{BlobStoreConnectionString|SAS URI}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># 2) Execute Extensions Profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/VirtualClient/VirtualClient.exe </span><span class="token parameter variable" style="color:#cb4b16">--profile</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain">EXAMPLE-WORKLOAD-PROFILE.json </span><span class="token parameter variable" style="color:#cb4b16">--timeout</span><span class="token operator" style="color:#fc929e">=</span><span class="token number" style="color:#5a9bcf">1440</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-debug-extensions-in-visual-studio">How To Debug Extensions in Visual Studio<a class="hash-link" aria-label="Direct link to How To Debug Extensions in Visual Studio" title="Direct link to How To Debug Extensions in Visual Studio" href="/VirtualClient/docs/developing/0020-develop-extensions/#how-to-debug-extensions-in-visual-studio">​</a></h2>
<p>This next section is going to cover the topic of debugging Virtual Client extensions. It is very helpful at times when doing development work to have
the ability to run the Virtual Client runtime executable while enabling the ability to step through the code line by line. For this section, we will be
looking at how to do this using the Visual Studio IDE and facilities that it has to make debugging easier. Make sure to review the section &quot;Debugging Virtual Client Code&quot;
at the bottom of the <a href="/VirtualClient/docs/developing/0010-develop-guide/">General Developer Guide</a> for more information on debugging.</p>
<ul>
<li>
<p><strong>Debug Using Unit/Functional Tests</strong><br>
<!-- -->This option is documented in the general developer guide. The technique is the same for debugging extensions as it is for any other component.</p>
</li>
<li>
<p><strong>Debug by Running a Custom Profile #1</strong><br>
<!-- -->The preliminary setup for this option is the same as what is documented in the general developer guide in the section on debugging at the bottom. There are a few extra steps here
where the developer must provide the Visual Studio runtime with a hint as to where to find the extensions binaries. We will be essentially setting up Visual Studio to run an instance of
the VirtualClient.exe on the system and supplying it with the location of the extensions binaries.</p>
<p>Note that in this scenario, we are executing the debugging scenario from Visual Studio in the extensions project. It is a good idea (for consistency) to reference a
&quot;just-built&quot; version of the Virtual Client runtime executable in many cases. This is typically done by cloning the Virtual Client platform repo, building it and referencing the
VirtualClient.exe from the built output location (e.g. /{repoDir}/out/bin/Debug/x64/VirtualClient.Main/net8.0/VirtualClient.exe).</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain"># A custom profile is created and placed on the file system somewhere (typically somewhere outside of the source directory). In this profile</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> the</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"># custom action/executor component is added to the actions.</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;Description&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Debug Custom Workload Executor&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;Actions&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Type&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;CustomWorkloadExecutor&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Parameters&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Scenario&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Scenario1&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Duration&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;00:00:10&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;ExampleParameter1&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;AnyValue1&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;ExampleParameter2&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">4567</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;PackageName&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;exampleworkload&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Tags&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Test,VC&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;Dependencies&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Type&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;DependencyPackageInstallation&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token property" style="color:#2aa198">&quot;Parameters&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Scenario&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;InstallExampleWorkloadPackage&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;BlobContainer&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;packages&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;BlobName&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;exampleworkload.1.0.0.zip&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;PackageName&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;exampleworkload&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token property" style="color:#2aa198">&quot;Extract&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The Virtual Client platform allows the developer to define a custom environment variable <strong>VC_LIBRARY_PATH</strong> to provide an extra location
to search for binaries that contain Virtual Client components. This environment variable should be set to the build output path for your extensions.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">g</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token preprocessor property" style="color:#2aa198"># Example output directory for extensions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">S</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain">\one\crc</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">virtualclient</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">examples\</span><span class="token keyword" style="color:#c5a5c5">out</span><span class="token plain">\bin\Release\AnyCPU\CRC</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Extensions</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">Actions\net8</span><span class="token punctuation" style="color:#657b83">.</span><span class="token number" style="color:#5a9bcf">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><strong>Setup Visual Studio for debugging:</strong></p>
<ol>
<li>
<p>Set the solution configuration to <strong>Debug</strong> at the top of the Visual Studio IDE window.</p>
</li>
<li>
<p>Set the extensions project containing the code to debug as the startup project. To do so, right-click on the project in the Solution Explorer and select
<strong>Set as Startup Project</strong> from the context menu.</p>
</li>
<li>
<p>Right-click on the VirtualClient.Main project and open the <strong>Debug</strong> options. Set the following information.</p>
<ul>
<li>
<p>Launch = Executable</p>
</li>
<li>
<p>Executable = {PathToVirtualClientExe}<br>
<!-- -->(e.g. <code>S:\one\crc-air-workloads\out\bin\Debug\x64\VirtualClient.Main\net8.0\VirtualClient.exe</code>)</p>
</li>
<li>
<p>Application arguments = {VirtualClientCommandLine}<br>
<!-- -->(e.g. <code>--profile=S:\one\debugging\DEBUG-EXAMPLE-WORKLOAD.json --profile=MONITORS.NONE.json --packages=&quot;https://virtualclient...&quot;</code>)</p>
</li>
<li>
<p>Environment variables = Add the <code>VC_LIBRARY_PATH</code> variable and the path to your built extensions binaries.<br>
<!-- -->(e.g. <code>VC_LIBRARY_PATH = S:\one\crc-virtualclient-examples\out\bin\Debug\x64\CRC.VirtualClient.Extensions.Actions\net8.0</code>)</p>
</li>
</ul>
</li>
<li>
<p>Place a breakpoint in the code where you like (e.g. in the InitializeAsync or ExecuteAsync methods of your component).</p>
</li>
<li>
<p>Click the play/continue button at the top-center of the Visual Studio IDE window (or press the F5 key).</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/microsoft/VirtualClient/edit/main/website/docs/developing/0020-develop-extensions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/VirtualClient/docs/developing/0010-develop-guide/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developer Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/VirtualClient/docs/developing/0030-workload-onboarding/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Workload Onboarding Process</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#platform-libraries">Platform Libraries</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#platform-requirements">Platform Requirements</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#versioning-requirements">Versioning Requirements</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#packaging-requirements">Packaging Requirements</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#how-to-useintegrate-extensions">How To Use/Integrate Extensions</a><ul><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#place-extensions-directly-in-virtual-client-application-folder">Place Extensions Directly in Virtual Client Application Folder</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#reference-extensions-from-other-locations-on-the-system">Reference Extensions from Other Locations on the System</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#downloaded-extensions-from-a-package-store">Downloaded Extensions from a Package Store</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#a-custom-defined-bootstrap-profile-is-used">A Custom-Defined Bootstrap Profile is Used</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0020-develop-extensions/#how-to-debug-extensions-in-visual-studio">How To Debug Extensions in Visual Studio</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/docs/overview/">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://microsoft.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2024 Microsoft.</div></div></div></footer></div>
</body>
</html>
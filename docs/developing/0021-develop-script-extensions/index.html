<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developing/0021-develop-script-extensions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Developing Script Extensions | Virtual Client Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/VirtualClient/docs/developing/0021-develop-script-extensions/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="performance, benchmarking, automation, framework, microsoft"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developing Script Extensions | Virtual Client Platform"><meta data-rh="true" name="description" content="The use of scripting languages (e.g. Python, PowerShell) is a popular choice for software and system engineers responsible for automating test coverage"><meta data-rh="true" property="og:description" content="The use of scripting languages (e.g. Python, PowerShell) is a popular choice for software and system engineers responsible for automating test coverage"><link data-rh="true" rel="icon" href="/VirtualClient/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/VirtualClient/docs/developing/0021-develop-script-extensions/"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0021-develop-script-extensions/" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0021-develop-script-extensions/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0I7D8A07MA-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/VirtualClient/blog/rss.xml" title="Virtual Client Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/VirtualClient/blog/atom.xml" title="Virtual Client Platform Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Virtual Client Platform" href="/VirtualClient/opensearch.xml"><link rel="stylesheet" href="/VirtualClient/assets/css/styles.fe082272.css">
<script src="/VirtualClient/assets/js/runtime~main.a856e6c6.js" defer="defer"></script>
<script src="/VirtualClient/assets/js/main.d893ea40.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like VirtualClient, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/microsoft/VirtualClient">GitHub</a> ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/VirtualClient/"><div class="navbar__logo"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Virtual Client</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/VirtualClient/docs/overview/">Documentation</a><a class="navbar__item navbar__link" href="/VirtualClient/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/overview/">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/guides/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/workloads/">Workloads</a><button aria-label="Expand sidebar category &#x27;Workloads&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/monitors/">Monitors</a><button aria-label="Expand sidebar category &#x27;Monitors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/dependencies/">Dependencies</a><button aria-label="Expand sidebar category &#x27;Dependencies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/VirtualClient/docs/category/developing/">Developing</a><button aria-label="Collapse sidebar category &#x27;Developing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0001-ci-cd/">Automated Build and CI/CD pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0010-develop-guide/">Developer Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0020-develop-extensions/">Developing Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/VirtualClient/docs/developing/0021-develop-script-extensions/">Developing Script Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0030-workload-onboarding/">Workload Onboarding Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0040-vc-packages/">VC Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0041-loggers/">Loggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0050-develop-profiling-monitor/">Profiler Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0060-workload-recommendations/">Workload Selection Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0061-build-docker-container/">Building Docker Containers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0070-error-handling/">Error Handling Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0080-coding-standards/">Coding Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0090-testing/">Testing Practices</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/VirtualClient/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/VirtualClient/docs/category/developing/"><span itemprop="name">Developing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developing Script Extensions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Developing Script Extensions</h1>
<p>The use of scripting languages (e.g. Python, PowerShell) is a popular choice for software and system engineers responsible for automating test coverage
on bare metal hardware systems. The Virtual Client platform provides runtime support for running scripts directly from the command line and additionally
supports a controller/agent workflow for remote execution through SSH sessions on both Linux and Windows systems.</p>
<p><a href="/VirtualClient/docs/guides/0021-controller-agent/">Controller/Agent Overview</a></p>
<p>The following document provides a set of general guidelines to consider when developing script-based automation extensions so that they can be readily integrated
into the Virtual Client platform.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="script-extensions-usage">Script Extensions Usage<a class="hash-link" aria-label="Direct link to Script Extensions Usage" title="Direct link to Script Extensions Usage" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-usage">​</a></h2>
<p>Before going into the details for script extensions development, it is helpful to have an idea of how they can be used in the
Virtual Client platform. The following sections illustrate how to integrate script packages into the Virtual Client platform for execution via the command line. Whereas the Virtual Client
platform often defines complex workflows using profiles, scripts can be executed directly without the need for a profile. Before getting into design and implementation
recommendations for script-based automation, it is helpful to get a sense of how they will be used in Virtual Client.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-script-extensions">Integrating Script Extensions<a class="hash-link" aria-label="Direct link to Integrating Script Extensions" title="Direct link to Integrating Script Extensions" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#integrating-script-extensions">​</a></h3>
<p>A package/folder containing scripts can be placed anywhere on the system, but the recommendation is to place them in the <code>/packages</code> folder for the Virtual Client
application. This is the folder that the application uses to download and host packages for all other toolsets.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># e.g.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Example On Windows Systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">AnyUser</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">win-arm64</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">packages</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">AnyUser</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">win-arm64</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">packages</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">custom_scripts.1.0.0</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">binaries</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">AnyUser</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">win-arm64</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">packages</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">custom_scripts.1.0.0</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">setup</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">C:</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">AnyUser</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">VirtualClient</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">win-arm64</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">packages</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">custom_scripts.1.0.0</span><span class="token punctuation" style="color:#657b83">\</span><span class="token plain">Invoke-FirmwareUpdate.ps1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># e.g.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Example On Linux Systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/anyuser/VirtualClient/content/linux-x64/packages/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/anyuser/VirtualClient/content/linux-x64/packages/custom_scripts.1.0.0/binaries</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/anyuser/VirtualClient/content/linux-x64/packages/custom_scripts.1.0.0/setup</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/home/anyuser/VirtualClient/content/linux-x64/packages/custom_scripts.1.0.0/update_firmware.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executing-scripts-in-an-extensions-package">Executing Scripts in an Extensions Package<a class="hash-link" aria-label="Direct link to Executing Scripts in an Extensions Package" title="Direct link to Executing Scripts in an Extensions Package" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#executing-scripts-in-an-extensions-package">​</a></h3>
<p>Scripts within a script extensions package/folder can be referenced and executed directly on the command line in Virtual Client. To reference
a script on the command line, the full script command should be surrounded in quotation marks.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># e.g.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Windows Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Scripts can be referenced directly on the command line.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient.exe </span><span class="token string" style="color:#8dc891">&quot;pwsh C:\Users\AnyUser\VirtualClient</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ontent\win-arm64\packages</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ustom_scripts.1.0.0\Invoke-FirmwareUpdate.ps1 -LogDirectory C:\Users\AnyUser\VirtualClient</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ontent\win-arm64\logs</span><span class="token string entity" style="color:#2aa198;cursor:help">\f</span><span class="token string" style="color:#8dc891">irmware_updates&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Relative paths can be used as well and are relative to the Virtual Client application.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient.exe </span><span class="token string" style="color:#8dc891">&quot;pwsh .\packages</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ustom_scripts.1.0.0\Invoke-FirmwareUpdate.ps1 -LogDirectory .\logs</span><span class="token string entity" style="color:#2aa198;cursor:help">\f</span><span class="token string" style="color:#8dc891">irmware_updates&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># e.g.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Linux Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient </span><span class="token string" style="color:#8dc891">&quot;python C:\Users\AnyUser\VirtualClient</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ontent\win-arm64\packages</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ustom_scripts.1.0.0\update_firmware.py --log-directory=/home/anyuser/VirtualClient/content/linux-arm64/logs/firmware_updates&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Relative paths...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient </span><span class="token string" style="color:#8dc891">&quot;python ./packages/custom_scripts.1.0.0/update_firmware.py --log-directory=./logs/firmware_updates&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your scripts do not really even need to write log files. Virtual Client allows the user to request the output of any script or toolset ran from the command line
to be written to file by simply including the <code>--log-to-file</code> flag on the command line.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Windows Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient.exe </span><span class="token string" style="color:#8dc891">&quot;pwsh .\packages</span><span class="token string entity" style="color:#2aa198;cursor:help">\c</span><span class="token string" style="color:#8dc891">ustom_scripts.1.0.0\Invoke-FirmwareUpdate.ps1 -LogDirectory .\logs</span><span class="token string entity" style="color:#2aa198;cursor:help">\f</span><span class="token string" style="color:#8dc891">irmware_updates&quot;</span><span class="token plain"> --log-to-file</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Linux Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">VirtualClient </span><span class="token string" style="color:#8dc891">&quot;python ./packages/custom_scripts.1.0.0/update_firmware.py --log-directory=./logs/firmware_updates&quot;</span><span class="token plain"> --log-to-file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="script-extensions-design-principles">Script Extensions Design Principles<a class="hash-link" aria-label="Direct link to Script Extensions Design Principles" title="Direct link to Script Extensions Design Principles" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-design-principles">​</a></h2>
<p>The following section defines a set of recommendations to apply when designing script-based automation.</p>
<div><mark><p>A very fundamental concept to consider when designing scripted automation is to focus on creating <b>self-contained packages</b>. Self-contained
packages can be simply copied/downloaded to a target system and executed successfully with no additional steps. This makes debugging/testing and integration
with automation systems much more seamless. Manual steps are problematic for repeatable and efficient scale executions.</p></mark></div>
<br>
<ul>
<li>
<p><strong>Scripts Can be Executed Independently</strong><br>
<!-- -->Scripts should be executable largely independent of other automation/orchestration systems. For example, a user should be
able to copy/download the test content to a system and run it with very minimal (if any) additional requirements. It is acceptable for the scripted
automation to depend upon other libraries/modules or toolsets (a very common scenario in software/automation); however, these should be either included with the
script package itself or easily installable. Similarly, if installation is required, it is advisable to include additional scripted automation to handle this
requirement (e.g. scripts that install Linux packages).</p>
</li>
<li>
<p><strong>Scripts Can be Easily Integrated Into Scale Automation</strong><br>
<!-- -->Scripts should be easy to integrate with scale automation/orchestration systems. In general, scripted automation SHOULD NOT
be dependent upon automation/orchestration systems to work correctly as this would be in conflict with the tenet noted above. Much of the process of designing
easy-to-integrate script-based automation involves following command line 101 practices. Scripts designed as command line toolsets are typically easy to
execute either manually or in scale automation systems (unattended). They additionally allow required information to be easily provided to the application via
the command line or as environment variables. The latter two aspects are very common and easy to implement.</p>
</li>
<li>
<p><strong>Scripts Should Produce Easy-to-Access Results</strong><br>
<!-- -->Whether the script-based automation is executed by a user manually on a system or across 100s of systems by scale automation, the results should be easy
to access. Useful information should be provided in the standard output and standard error of the terminal/console. Another common option is to emit the information
to a file on the system (i.e. log file). This is not as easy to integrate as standard output/error but is acceptable.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="script-extensions-implementation-guidelines">Script Extensions Implementation Guidelines<a class="hash-link" aria-label="Direct link to Script Extensions Implementation Guidelines" title="Direct link to Script Extensions Implementation Guidelines" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-implementation-guidelines">​</a></h2>
<p>The following section applies the design principles noted above to some of the implementation details. These recommendations below aim at
facilitating the creation of lightweight script automation that is relatively easy to write.</p>
<ul>
<li>
<p><strong>Scripts Should be Written for Command Line Toolset/Terminal Integration</strong><br>
<!-- -->There are few (if any) options more simple to write that are also easy to use than those designed for command line integration (e.g. PowerShell, Python).
Scripts should be written for command line usage wherever possible.</p>
</li>
<li>
<p><strong>Scripts Should Follow Command Line Fundamentals/Principles</strong><br>
<!-- -->To ensure script-based automation is both easy to use by individual users and is also easy to integrate into scale automation, developers should follow command line
101 principles. The following are the key principles involved:</p>
<ul>
<li>
<p><strong>Return a Relevant Exit Code</strong><br>
<!-- -->Scripts on the command line should return an exit code of 0 to represent a successful execution/outcome. A non-zero exit code should be returned
to represent a non-successful execution/outcome. Good script-based automation tools use different non-zero exit codes to represent exact reasons for the operation
failing.</p>
</li>
<li>
<p><strong>Provide Useful Information in Standard Output</strong><br>
<!-- -->Scripts should provide information useful to a user (or scale automation) in standard output (e.g. console print screen). This makes it easy
for a user of the script automation to understand exactly what happened and ideally to be able to make a decision on the outcome by simply reading
the output. Furthermore, the use of standard output is one of the easiest output interface for integration into scale automation (e.g. redirected to a log file).</p>
</li>
<li>
<p><strong>Provide Error Information in Standard Error</strong><br>
<!-- -->Scripts should provide information on errors that occur in standard error. The error information should be ideally written
in layman&#x27;s terms so that it is easy for the user to understand the context of the problem (i.e. &quot;an error occurred&quot; is not generally a good error statement).
Furthermore, the use of standard error is one of the easiest output interface for integration into scale automation (e.g. redirected to a log file).</p>
</li>
<li>
<p><strong>Prefer Options/Parameters on the Command Line</strong><br>
<!-- -->Most script terminals and command line tools support or require options/parameters be supplied on the command line. This is the easiest way to pass information into a
command line tool and is thus preferred over other options. Environment variables are also a reasonable choice as a second option; however, they are not
as easily discoverable for users and require more setup requirements for scale automation. They are thus less preferred. Providing information to
command line tools via a file/settings file is not generally a good choice because it reduces the flexibility of the usage for the user of the tool.
Lightweight command line tools generally avoid file-based options for providing information to the tool in preference for options/parameters directly on
the command line itself. File-based options additionally run more risk of exposing secrets when information within the file contains
things such as passwords, access tokens. This is a violation of Azure&#x27;s security standards having secrets in plain text.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Command line tools should ideally pass in necessary information to the command </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># on the command line.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">PS ~/custom_scripts.1.0.</span><span class="token operator file-descriptor important" style="color:#cb4b16;font-weight:bold">0</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> ./Invoke-FirmwareUpdate.ps1 </span><span class="token parameter variable" style="color:#cb4b16">-ImagePath</span><span class="token plain"> ./firmware/GB32M34.bin </span><span class="token parameter variable" style="color:#cb4b16">-LogDirectory</span><span class="token plain"> ./logs/firmware</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>Log Directories Should be Supplied Not Implied</strong><br>
<!-- -->If the script emits log files, the log file directory should be definable by the user or scale automation on the command line. This is generally
advisable over the use of an environment variable for the reasons noted above. It is also important that the tool support both full and relative paths for
any file system path references. It is additionally advisable that log files include a timestamp in the name of the file. This ensures uniqueness
of each log file and avoids files being overwritten when the command line tool is executed multiple times on the same system. It is also advisable
to use ISO8601 (i.e. universal round-trip) date/time format as it is both easy to read and sorts chronologically in natural text (e.g. folder explorer) scenarios.</p>
<p><a href="https://www.iso.org/iso-8601-date-and-time-format.html" target="_blank" rel="noopener noreferrer">https://www.iso.org/iso-8601-date-and-time-format.html</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Command line tools should support full paths</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">PS ~/custom_scripts.1.0.</span><span class="token operator file-descriptor important" style="color:#cb4b16;font-weight:bold">0</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> ./Invoke-FirmwareUpdate.ps1 </span><span class="token parameter variable" style="color:#cb4b16">-LogDirectory</span><span class="token plain"> /home/anyuser/content.gb200.1.0.0/logs/firmware</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Command line tools should support relative paths</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">PS ~/custom_scripts.1.0.</span><span class="token operator file-descriptor important" style="color:#cb4b16;font-weight:bold">0</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> ./Invoke-FirmwareUpdate.ps1 </span><span class="token parameter variable" style="color:#cb4b16">-LogDirectory</span><span class="token plain"> ./logs/firmware</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># Command line tools should generally produce timestamped log files to ensure uniqueness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># across multiple executions on the same system. Use &quot;universal round-trip&quot; format.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">PS ~/custom_scripts.1.0.</span><span class="token operator file-descriptor important" style="color:#cb4b16;font-weight:bold">0</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> ./Invoke-FirmwareUpdate.ps1 </span><span class="token parameter variable" style="color:#cb4b16">-LogDirectory</span><span class="token plain"> ./logs/firmware -</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2025</span><span class="token plain">-04-17T-09-30-00-235Z-firmware-update.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="script-extensions-packaging-guidelines">Script Extensions Packaging Guidelines<a class="hash-link" aria-label="Direct link to Script Extensions Packaging Guidelines" title="Direct link to Script Extensions Packaging Guidelines" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-packaging-guidelines">​</a></h2>
<p>The following section covers packaging standards for the creating of script-based automation packages. As noted above, the primary goal of these standards
is to produce a <strong>self-contained package</strong>. A self-contained package can be copied/downloaded to a system under test and the scripts within executed
with minimal or no additional setup requirements. There are cases where 1st and 3rd party toolsets/binaries will need to be downloaded to the system
and this topic will be covered at the end of this section.</p>
<p>The term <code>package</code> used in this section refers to a folder structure containing all test content and dependencies. A package can be easily
zipped and copied around or uploaded to Azure Storage Accounts etc... for use in scale automation scenarios. Packages are a fundamental part of any
script-based extensions development process. The following illustrates an example of the recommendation for the folder structure of a package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain">/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /binaries</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /docs</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /setup</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /Invoke-FirmwareUpdate.ps1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /update_firmware.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>Include Scripts in the Package Root Directory</strong><br>
<!-- -->Scripts should generally be added to the root directory of the package. This ensures that scripts can easily reference other scripts
for import or execution. It does not matter which language the scripts are written in (e.g. PowerShell, Python). That said, it is additionally
useful to organize same-language scripts in subdirectories if desired.</p>
<p>The following illustrates the folder structure of the test content package:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Test content scripts should generally go in the root of the package.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    - Common.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    - Firmware.Linux.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    - Firmware.Windows.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    - Custom.Linux.psd1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    - Custom.Windows.psd1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># The use of subdirectories to contain &quot;same-language&quot; files is fine as well.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /powershell</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - Common.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - Firmware.Linux.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - Firmware.Windows.psm1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - Custom.Linux.psd1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - Custom.Windows.psd1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /python</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - update_ssd_firmware.py</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - update_nvme_firmware.py</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - update_fpga_firmware.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Include 1st and 3rd Party Toolsets in the Package</strong><br>
<!-- -->When reasonable in overall size (e.g. &lt; 10 MB), include any 1st or 3rd party toolsets used/referenced by the test content
in a <code>binaries</code> subdirectory within the package. Follow the conventions illustrated below to encapsulate the toolsets within appropriate
&quot;platform-specific&quot; folders. This makes it visually easy to discern which toolsets can be used on which OS platforms and architectures
and is a well-vetted pattern from the industry at-large.</p>
<div><mark><p>Note that it is also common to pre-install toolsets when possible especially on Linux systems. This reduces the overhead
of having to carry toolsets/binaries in the test content package. One good option is to include scripts in the package
<b>/setup</b> folder that can be used to install the toolsets. Users or automation can easily run these scripts once before then
running scripts within the same package.</p></mark></div>
<br>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Toolsets and binaries used/referenced by the test content scripts should be contained</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># within platform-specific subdirectories within the package.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token comment" style="color:#93a1a1"># Toolsets go in &#x27;binaries&#x27; subdirectory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /binaries</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># Toolsets for the specific platform/architecture (e.g. linux-x64) go in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># a subdirectory named for that platform/architecture.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        /customutil</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token comment" style="color:#93a1a1"># Toolsets that work on Linux OS and ARM64 CPU architectures.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            /linux-arm64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                - customutil</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token comment" style="color:#93a1a1"># Toolsets that work on Linux OS and X64 CPU architectures.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            /linux-x64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                - customutil</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        /ipmiutil</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token comment" style="color:#93a1a1"># Toolsets that work on Windows OS and ARM64 CPU architectures.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            /win-arm64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                - ipmiutil.exe</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token comment" style="color:#93a1a1"># Toolsets that work on Windows OS and X64 CPU architectures.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            /win-x64</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                - ipmiutil.exe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Include Documentation in the Package</strong><br>
<!-- -->Each hardware program comes with special considerations. Documentation related to the specific program should be included in either the root
directory for the package (e.g. README.md) or in a <code>docs</code> subdirectory within the package. Any non-automated setup requirments should be clearly
documented.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># Documentation providing context and usage information should be contained within</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># a &#x27;docs&#x27; subdirectory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/custom_scripts.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /docs</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - README.md</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - SETUP_REQUIREMENTS.md</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - USAGE.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Include System Setup Scripts in the Package</strong><br>
<!-- -->With some hardware program qualification scenarios, there are 1-time/initial setup requirements that are automated with scripts. For example, in certain
scenarios, it is highly desirable to pre-install certain toolsets (e.g. install ipmiutil from a Linux package manager). These toolsets, once installed, greatly simplify the
integration/referencing of the toolsets within the test content scripts. Scripts that are used for 1-time/initial system setup should be included in a
<code>setup</code> subdirectory. Any installer applications (e.g. MSI, debian packages) should be included in this directory as well.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token comment" style="color:#93a1a1"># System setup scripts (and related content) should be contained within </span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># a &#x27;setup&#x27; subdirectory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">/content.gb200.1.0.0</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    /setup</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - install-packages.sh</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - install-pwsh.sh</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - install-python.sh</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - install-docker.sh</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - install-debug-toolsets.sh</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        - debug-toolsets.deb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/microsoft/VirtualClient/edit/main/website/docs/developing/0021-develop-script-extensions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/VirtualClient/docs/developing/0020-develop-extensions/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developing Extensions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/VirtualClient/docs/developing/0030-workload-onboarding/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Workload Onboarding Process</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-usage">Script Extensions Usage</a><ul><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#integrating-script-extensions">Integrating Script Extensions</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#executing-scripts-in-an-extensions-package">Executing Scripts in an Extensions Package</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-design-principles">Script Extensions Design Principles</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-implementation-guidelines">Script Extensions Implementation Guidelines</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0021-develop-script-extensions/#script-extensions-packaging-guidelines">Script Extensions Packaging Guidelines</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/docs/overview/">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://microsoft.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Microsoft.</div></div></div></footer></div>
</body>
</html>
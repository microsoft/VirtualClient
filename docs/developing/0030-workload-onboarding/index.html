<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developing/0030-workload-onboarding" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Workload Onboarding Process | Virtual Client Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/VirtualClient/docs/developing/0030-workload-onboarding/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="performance, benchmarking, automation, framework, microsoft"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Workload Onboarding Process | Virtual Client Platform"><meta data-rh="true" name="description" content="The following documentation provides guidance on the steps that the Virtual Client requires to onboard workloads to platform. The steps"><meta data-rh="true" property="og:description" content="The following documentation provides guidance on the steps that the Virtual Client requires to onboard workloads to platform. The steps"><link data-rh="true" rel="icon" href="/VirtualClient/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/VirtualClient/docs/developing/0030-workload-onboarding/"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0030-workload-onboarding/" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/VirtualClient/docs/developing/0030-workload-onboarding/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0I7D8A07MA-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/VirtualClient/blog/rss.xml" title="Virtual Client Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/VirtualClient/blog/atom.xml" title="Virtual Client Platform Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Virtual Client Platform" href="/VirtualClient/opensearch.xml"><link rel="stylesheet" href="/VirtualClient/assets/css/styles.fe082272.css">
<script src="/VirtualClient/assets/js/runtime~main.781da10b.js" defer="defer"></script>
<script src="/VirtualClient/assets/js/main.78f43021.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like VirtualClient, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/microsoft/VirtualClient">GitHub</a> ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/VirtualClient/"><div class="navbar__logo"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/vc-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Virtual Client</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/VirtualClient/docs/overview/">Documentation</a><a class="navbar__item navbar__link" href="/VirtualClient/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/overview/">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/guides/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/workloads/">Workloads</a><button aria-label="Expand sidebar category &#x27;Workloads&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/monitors/">Monitors</a><button aria-label="Expand sidebar category &#x27;Monitors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/VirtualClient/docs/category/dependencies/">Dependencies</a><button aria-label="Expand sidebar category &#x27;Dependencies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/VirtualClient/docs/category/developing/">Developing</a><button aria-label="Collapse sidebar category &#x27;Developing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0001-ci-cd/">Automated Build and CI/CD pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0010-develop-guide/">Developer Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0020-develop-extensions/">Developing Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/VirtualClient/docs/developing/0030-workload-onboarding/">Workload Onboarding Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0040-vc-packages/">VC Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0050-develop-profiling-monitor/">Profiler Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0060-workload-recommendations/">Workload Selection Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0061-build-docker-container/">Building Docker Containers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0070-error-handling/">Error Handling Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0080-coding-standards/">Coding Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/VirtualClient/docs/developing/0090-testing/">Testing Practices</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/VirtualClient/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/VirtualClient/docs/category/developing/"><span itemprop="name">Developing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Workload Onboarding Process</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Workload Onboarding Process</h1>
<p>The following documentation provides guidance on the steps that the Virtual Client requires to onboard workloads to platform. The steps
defined are not exactly the same every time; however, this gives a developer the general idea of what to expect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-research-and-understand-the-workload-software">Step 1: Research and Understand the Workload Software<a class="hash-link" aria-label="Direct link to Step 1: Research and Understand the Workload Software" title="Direct link to Step 1: Research and Understand the Workload Software" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-1-research-and-understand-the-workload-software">​</a></h2>
<ul>
<li>Research the proper use of the workload software to fully understand how to run it correctly on the system. If a subject matter expert is available,
connect with them to get perspective on the workload software.</li>
<li>Collect and keep track of documentation, download locations, licenses etc... related to the workload software. This is particularly important if the
workload software is not already pre-built but instead must be built/compiled from a repo by the developer.</li>
<li>Run the workload software yourself (on a range of systems if possible) and gather examples of the results/output.</li>
<li>Inspect the results/output to determine the list of important metrics that should be captured from them. Sometimes the results are not emitted by the workload
but are instead read from the system on which it is running (e.g. performance counters).</li>
<li>Try to get all questions that you have answered such that you have a sense of truly understanding what the workload software does and how to operate
it for trustworthy results on the system.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-vc-packages-and-uploading-to-storage">Step 2: Create VC Packages and Uploading to Storage<a class="hash-link" aria-label="Direct link to Step 2: Create VC Packages and Uploading to Storage" title="Direct link to Step 2: Create VC Packages and Uploading to Storage" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-2-create-vc-packages-and-uploading-to-storage">​</a></h2>
<p>It is recommended that any workload software that can be packaged in a Virtual Client package (*.vcpkg) is packaged this way. There are a host of benefits
to packaging workloads and dependencies in easy-to-consume Virtual Client packages.</p>
<ul>
<li><a href="/VirtualClient/docs/developing/0040-vc-packages/">VC Packages</a></li>
<li><a href="/VirtualClient/docs/guides/0600-integration-blob-storage/">Storage Account Support</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-parsers-and-unit-tests">Step 3: Create Parsers and Unit Tests<a class="hash-link" aria-label="Direct link to Step 3: Create Parsers and Unit Tests" title="Direct link to Step 3: Create Parsers and Unit Tests" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-3-create-parsers-and-unit-tests">​</a></h2>
<ul>
<li>Create a parser class file with name &lt;Workload_name&gt;ResultsParser.cs(e.g. WebFundamentalsResultsParser.cs) in project VirtualClient.Parser.</li>
<li>Write unit tests for the parser created in project VirtualClient.Parser.UnitTests with the name &lt;Workload_name&gt;ResultsParserTests.cs(e.g. WebFundamentalsResultsParserTests.cs)</li>
<li>To store all the required input files for the tests, create a folder with the name of workload in the examples folder in VirtualClient.Parser.UnitTests project.</li>
<li>Update VirtualClient.Parser.UnitTests.csproj file with the details of example files.</li>
</ul>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Update</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Examples\WebFundamentals\WebFundamentalsInvalidExample.xml</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">PreserveNewest</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Update</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Examples\WebFundamentals\WebFundamentalsInvalidMetricCountExample.xml</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">PreserveNewest</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">Update</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Examples\WebFundamentals\WebFundamentalsExample.xml</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">PreserveNewest</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">CopyToOutputDirectory</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">None</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-update-package-manager-and-unit-tests">Step 4: Update Package Manager and Unit Tests<a class="hash-link" aria-label="Direct link to Step 4: Update Package Manager and Unit Tests" title="Direct link to Step 4: Update Package Manager and Unit Tests" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-4-update-package-manager-and-unit-tests">​</a></h2>
<ul>
<li>Update PackageManager.cs of project VirtualClient.Core to incluide the details of all the packages required to be downloaded.</li>
<li>Update PackageManagerTests.cs of project VirtualClient.Core.UnitTests to include the unit tests of the changes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-profile-creation">Step 5: Profile Creation<a class="hash-link" aria-label="Direct link to Step 5: Profile Creation" title="Direct link to Step 5: Profile Creation" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-5-profile-creation">​</a></h2>
<ul>
<li>Create json file with name PERF-&lt;PERF_CRITERION&gt;-&lt;Workload_Name&gt;.json (eg. PERF-WEB-WEBFUNDAMENTALS.json) in profiles folder of VirtualClient.Main project.</li>
<li>This file contains all the dependencies that are required by the workload.</li>
<li>Dependencies are included in the project VortualClient.Dependencies.</li>
<li>Update VirtualClient.Main.csproj file and VirtualClient.Actions.FunctionalTests.csproj file with the json file created.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-create-executor-and-unit-tests">Step 6: Create Executor and Unit Tests<a class="hash-link" aria-label="Direct link to Step 6: Create Executor and Unit Tests" title="Direct link to Step 6: Create Executor and Unit Tests" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-6-create-executor-and-unit-tests">​</a></h2>
<ul>
<li>Create a folder with the name of workload in VirtualClient.Actions project which will contain all the files related to executor.<!-- -->
<ul>
<li>
<p><strong>Single-system Workloads</strong></p>
<ul>
<li><a href="https://github.com/microsoft/VirtualClient/tree/main/src/VirtualClient/VirtualClient.Actions/Examples" target="_blank" rel="noopener noreferrer">Example Workload Executor</a></li>
<li><a href="https://github.com/microsoft/VirtualClient/tree/main/src/VirtualClient/VirtualClient.Actions/OpenSSL" target="_blank" rel="noopener noreferrer">OpenSSL Workload Executor</a></li>
<li><a href="https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Actions/OpenFOAM/OpenFOAMExecutor.cs" target="_blank" rel="noopener noreferrer">OpenFOAM Workload Executor</a></li>
</ul>
</li>
<li>
<p><strong>Multi-system, Client/Server Workloads</strong></p>
<ul>
<li><a href="https://github.com/microsoft/VirtualClient/tree/main/src/VirtualClient/VirtualClient.Actions/Examples/ClientServer" target="_blank" rel="noopener noreferrer">Example Workload Executor</a></li>
<li><a href="https://github.com/microsoft/VirtualClient/tree/main/src/VirtualClient/VirtualClient.Actions/Redis" target="_blank" rel="noopener noreferrer">Redis Workload Executor</a></li>
<li><a href="https://github.com/microsoft/VirtualClient/tree/main/src/VirtualClient/VirtualClient.Actions/Memcached" target="_blank" rel="noopener noreferrer">Memcached Workload Executor</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-dependencies-creation">Step 7: Dependencies Creation<a class="hash-link" aria-label="Direct link to Step 7: Dependencies Creation" title="Direct link to Step 7: Dependencies Creation" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-7-dependencies-creation">​</a></h2>
<ul>
<li>In case, Workload requires one time set-up on VM then that can be added as a dependency in the VC.</li>
<li>Add &lt;Depency_Name&gt;.cs(IISInstallation.cs) file in VirtualClient.Dependencies project.</li>
<li>Add its unit tests in project VirtualClient.Dependencies.UnitTests project.</li>
<li>This dependency can be added in profile file created for workload in VirtualClient.Main.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8-running-the-workload-on-azure-vms-and-verify-data-in-telemetry">Step 8: Running the Workload on Azure VMs and Verify data in Telemetry<a class="hash-link" aria-label="Direct link to Step 8: Running the Workload on Azure VMs and Verify data in Telemetry" title="Direct link to Step 8: Running the Workload on Azure VMs and Verify data in Telemetry" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-8-running-the-workload-on-azure-vms-and-verify-data-in-telemetry">​</a></h2>
<ul>
<li>Open command prompt and follow these commands to create NuGet package</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#FFFFFF"><span class="token builtin class-name" style="color:#fac863">cd</span><span class="token plain"> /src/VirtualClient</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">build-vc.cmd</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">build-packages-vc.cmd </span><span class="token number" style="color:#5a9bcf">1.0</span><span class="token plain">.0  // </span><span class="token number" style="color:#5a9bcf">1.0</span><span class="token plain">.0 is version and it could be any based on choice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Package will be found in location VirtualClient\out\packages with the name VirtualClient.[version].nupkg. Eg. VirtualClient.1.0.0.nupkg</li>
<li>Copy the NuGet package to the VM on which, workload needs to be run.</li>
<li>Please refer <a href="https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient" target="_blank" rel="noopener noreferrer">Virtual Client Documentation</a> for details on how to run workload on Azure VM using Virtual Client package.</li>
<li>Verify the results in telemetry</li>
<li>PR can be created now for review and checkin.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-9-documentation-updation">Step 9: Documentation Updation<a class="hash-link" aria-label="Direct link to Step 9: Documentation Updation" title="Direct link to Step 9: Documentation Updation" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-9-documentation-updation">​</a></h2>
<ul>
<li>
<p><strong>Workload Binaries and Scripts Locations</strong>
This documentation should exist in the VirtualClient.Packaging folder and should follow the naming convention + format for the example below.
This includes information on exactly where to get the binaries/scripts etc. required to create a workload package (including custom build/compile instructions).
This should also and especially include information on pieces of the workload package that are NOT in source control (e.g. where is it at if not in source control).
An example of this is the SPEC CPU workload requirements for an *.iso file. This file is over 2 GB in size and we do not keep it in source control. It exists ONLY in the package store.</p>
</li>
<li>
<p><strong>Workload Details, Profiles and Metrics</strong>
A standard pattern is in place for describing the details of the workload (what it is and what it does) as well as the different profiles that are offered to run that workload as well as what type of metrics to we capture when the workload is run.
This is very important for users of the Virtual Client to understand fine-grained details about these workloads and profile scenarios. This information is divided into 3 parts/documents. Use the examples below for reference.</p>
<ul>
<li><a href="/VirtualClient/docs/workloads/openssl/">Example - OpenSSL Overview/Details</a></li>
<li><a href="/VirtualClient/docs/workloads/openssl/openssl-profiles/">Example - OpenSSL Workload Profiles</a></li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/microsoft/VirtualClient/edit/main/website/docs/developing/0030-workload-onboarding.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/VirtualClient/docs/developing/0020-develop-extensions/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developing Extensions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/VirtualClient/docs/developing/0040-vc-packages/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">VC Packages</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-1-research-and-understand-the-workload-software">Step 1: Research and Understand the Workload Software</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-2-create-vc-packages-and-uploading-to-storage">Step 2: Create VC Packages and Uploading to Storage</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-3-create-parsers-and-unit-tests">Step 3: Create Parsers and Unit Tests</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-4-update-package-manager-and-unit-tests">Step 4: Update Package Manager and Unit Tests</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-5-profile-creation">Step 5: Profile Creation</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-6-create-executor-and-unit-tests">Step 6: Create Executor and Unit Tests</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-7-dependencies-creation">Step 7: Dependencies Creation</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-8-running-the-workload-on-azure-vms-and-verify-data-in-telemetry">Step 8: Running the Workload on Azure VMs and Verify data in Telemetry</a></li><li><a class="table-of-contents__link toc-highlight" href="/VirtualClient/docs/developing/0030-workload-onboarding/#step-9-documentation-updation">Step 9: Documentation Updation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/docs/overview/">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/VirtualClient/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/VirtualClient" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://microsoft.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/VirtualClient/img/microsoft-logo-white-text.svg" alt="MSFT Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2024 Microsoft.</div></div></div></footer></div>
</body>
</html>
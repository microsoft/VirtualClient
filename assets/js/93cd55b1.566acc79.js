"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[4767],{2622:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var t=s(4848),r=s(8453);const i={},o="Sysbench Workload Profiles",l={id:"workloads/sysbench/sysbench-profiles",title:"Sysbench Workload Profiles",description:"The following profiles run customer-representative or benchmarking scenarios using the Sysbench OLTP workload.",source:"@site/docs/workloads/sysbench/sysbench-profiles.md",sourceDirName:"workloads/sysbench",slug:"/workloads/sysbench/sysbench-profiles",permalink:"/VirtualClient/docs/workloads/sysbench/sysbench-profiles",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/workloads/sysbench/sysbench-profiles.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Sysbench Client/Server Addendum",permalink:"/VirtualClient/docs/workloads/sysbench/sysbench-addendum"},next:{title:"Monitors",permalink:"/VirtualClient/docs/category/monitors"}},a={},d=[{value:"Client/Server Topology Support",id:"clientserver-topology-support",level:2},{value:"Balanced/In Memory Scenario Support",id:"balancedin-memory-scenario-support",level:2},{value:"Profile Components",id:"profile-components",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Actions",id:"actions",level:3},{value:"PERF-MYSQL-OLTP-SYSBENCH.json and PERF-POSTGREQL-OLTP-SYSBENCH.json",id:"perf-mysql-oltp-sysbenchjson-and-perf-postgreql-oltp-sysbenchjson",level:2},{value:"PERF-MYSQL-TPCC-SYSBENCH.json and PERF-POSTGRESQL-TPCC-SYSBENCH.json",id:"perf-mysql-tpcc-sysbenchjson-and-perf-postgresql-tpcc-sysbenchjson",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"sysbench-workload-profiles",children:"Sysbench Workload Profiles"}),"\n",(0,t.jsx)(n.p,{children:"The following profiles run customer-representative or benchmarking scenarios using the Sysbench OLTP workload."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/VirtualClient/docs/workloads/sysbench/",children:"Workload Details"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/VirtualClient/docs/guides/0020-client-server",children:"Client/Server Workloads"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"clientserver-topology-support",children:"Client/Server Topology Support"}),"\n",(0,t.jsx)(n.p,{children:"Sysbench OLTP workload profiles support running the workload on both a single system as well as in a client/server topology. This means that the workload supports\noperation on a single system or on 2 distinct systems. The client/server topology is typically used when it is desirable to include a network component in the\noverall performance evaluation. In a client/server topology, one system operates in the 'Client' role making calls to the system operating in the 'Server' role.\nThe Virtual Client instances running on the client and server systems will synchronize with each other before running the workload. In order to support a client/server topology,\nan environment layout file MUST be supplied to each instance of the Virtual Client on the command line to describe the IP address/location of other Virtual Client instances. An\nenvironment layout file is not required for the single system topology."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/VirtualClient/docs/guides/0020-client-server",children:"Environment Layouts"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'In the environment layout file provided to the Virtual Client, define the role of the client system/VM as "Client" and the role of the server system(s)/VM(s) as "Server".\nThe spelling of the roles must be exact. The IP addresses of the systems/VMs must be correct as well. The following example illustrates the\nidea. The name of the client must match the name of the system or the value of the agent ID passed in on the command line.'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Single System (environment layout not required)\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Juno --timeout=1440\n\n# Multi-System\n# On Client Role System...\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Juno --timeout=1440 --clientId=Client01 --layoutPath=/any/path/to/layout.json\n\n# On Server Role System...\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json--system=Juno --timeout=1440 --clientId=Server01 --layoutPath=/any/path/to/layout.json\n\n# Example contents of the \'layout.json\' file:\n{\n    "clients": [\n        {\n            "name": "Client01",\n            "role": "Client",\n            "ipAddress": "10.1.0.1"\n        },\n        {\n            "name": "Server01",\n            "role": "Server",\n            "ipAddress": "10.1.0.2"\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"balancedin-memory-scenario-support",children:"Balanced/In Memory Scenario Support"}),"\n",(0,t.jsx)(n.p,{children:"In addition to the standard configuration, Virtual Client offers two tuned scenarios (Balanced and In-Memory) and one configurable scenario (Configure) to run the\nSysbench workload. A database scenario can be selected by denoting it in the profile, under both the MySQLConfiguration Dependency and the SysbenchConfiguration Action. The Default\nscenario is Balanced."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Balanced"}),(0,t.jsx)(n.br,{}),"\n","The database size is about twice as big as the memory/RAM on the system. Half of the database will fit in memory, and half will fit on disk.\nTarget CPU usage is about 40-60% with somewhat heavy disk I/O usage. The configuration supports 1-5 additional data disks, and the database will be\ndistributed among the disks as proportionately as possible. The default is 1 thread and 10^vCPU number of records."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"InMemory"}),(0,t.jsx)(n.br,{}),"\n","The database size is just about the size of the memory/RAM on the system. Target CPU usage is about 80-90%, with a significant amount of disk I/O usage."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Configure"}),(0,t.jsx)(n.br,{}),"\n","Allows for user-defined table count, record size, and thread counts."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'{\n  "Type": "SysbenchConfiguration",\n  "Parameters": \n  {\n    "Scenario": "oltp_read_write_T8_TB16_REC500",\n    "BenchmarkName": "OLTP",\n    "DatabaseName": "sbtest",\n    "DatabaseScenario": "Configure",\n    "Threads": "8",\n    "NumTables": "16",\n    "RecordCount": "500",\n    "Duration": "00:20:00",\n    "Workload": "oltp_read_write",\n    "PackageName": "sysbench"\n    "Role": "Server",\n  }\n},\n'})}),"\n",(0,t.jsx)(n.h2,{id:"profile-components",children:"Profile Components"}),"\n",(0,t.jsx)(n.p,{children:"There are a lot of moving parts to this workload that allows for both out-of-box and configurable scenarios. Here are the key components to be aware of."}),"\n",(0,t.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"FormatDisks"})," and ",(0,t.jsx)(n.strong,{children:"MountDisks"}),(0,t.jsx)(n.br,{}),"\n","Format any unformatted disks on the server, then mount any unmounted disks."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"DependencyPackageInstallation"}),(0,t.jsx)(n.br,{}),"\n","On all VMs, download the sysbench package; on the server-side, also download the mysql-server package."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LinuxPackageInstallation"}),(0,t.jsx)(n.br,{}),"\n","Download the python3 package to execute the python scripts provided for installation and configuration of the packages."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"MySQLServerInstallation and MySQLConfiguration"}),(0,t.jsx)(n.br,{}),"\n","Runs scripts to install and configure the MySQL server (ie. set up network, database, variables, and users)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ApiServer"}),(0,t.jsx)(n.br,{}),"\n","Starts the API server for Client-Server workloads."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SysbenchConfiguration"}),(0,t.jsx)(n.br,{}),"\n","Populates the MySQL database using the Sysbench tool. Note that the default Sysbench settings does not populate a database on the data disks, but on the OS disk. Thus, the\nrecommended profile format is as follows. The below setup creates N tables in the database with one record each. Only then can MySQL equally distribute the database onto different\ndata disks mounted on the system, as it copies the tables and their schemas into new tables. From there, Sysbench can add additional records to further populate the database tables.\nOnce populated, VC persists the state, and it will not drop or recreate tables."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'{\n    "Type": "SysbenchConfiguration",\n    "Parameters": \n    {\n      "Scenario": "PopulateMySQLDatabase",\n      "BenchmarkName": "TPCC",\n      "DatabaseName": "sbtest",\n      "WarehouseCount": 1,\n      "NumTables": 10,\n      "PackageName": "sysbench",\n      "Role": "Server"\n    }\n  },\n  {\n    "Type": "MySQLServerConfiguration",\n    "Parameters": \n    {\n      "Scenario": "DistributeMySQLDatabase",\n      "BenchmarkName": "TPCC",\n      "Action": "DistributeDatabase",\n      "DatabaseName": "sbtest",\n      "NumTables": 10,\n      "PackageName": "mysql-server",\n      "Role": "Server"\n    }\n  },\n  {\n    "Type": "SysbenchConfiguration",\n    "Parameters": \n    {\n      "Scenario": "PopulateMySQLDatabase",\n      "BenchmarkName": "TPCC",\n      "DatabaseName": "sbtest",\n      "NumTables": 10,\n      "WarehouseCount": 100,\n      "PackageName": "sysbench",\n      "Role": "Server"\n    }\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SysbenchClientExecutor"}),(0,t.jsx)(n.br,{}),"\n","Runs a given workload from the client-side on the server database. Note that this action can run with different arguments from SysbenchConfiguration -- though a database of 10 tables\nwith 10,000 records each can be created, a workload can be run on 5 tables for 1000 records if desired. VC does not support dropping and recreating a new database or table\nconfiguration within the same profile or system."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SysbenchServerExecutor"}),(0,t.jsx)(n.br,{}),"\n","Sets the server online for client interaction."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"perf-mysql-oltp-sysbenchjson-and-perf-postgreql-oltp-sysbenchjson",children:"PERF-MYSQL-OLTP-SYSBENCH.json and PERF-POSTGREQL-OLTP-SYSBENCH.json"}),"\n",(0,t.jsx)(n.p,{children:"Runs a system-intensive workload using the Sysbench Benchmark to test the bandwidth of CPU, Memory, and Disk I/O."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Main/profiles/PERF-MYSQL-OLTP-SYSBENCH.json",children:"Workload Profile - MySQL"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Main/profiles/PERF-MYSQL-OLTP-SYSBENCH.json",children:"Workload Profile - PostgreSQL"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supported Platform/Architectures"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"linux-x64"}),"\n",(0,t.jsx)(n.li,{children:"linux-arm64"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supports Disconnected Scenarios"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No. Internet connection required."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Dependencies"}),(0,t.jsx)(n.br,{}),"\n","The dependencies defined in the 'Dependencies' section of the profile itself are required in order to run the workload operations effectively."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Internet connection."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Additional information on components that exist within the 'Dependencies' section of the profile can be found in the following locations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://microsoft.github.io/VirtualClient/docs/category/dependencies/",children:"Installing Dependencies"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Profile Parameters"}),(0,t.jsx)(n.br,{}),"\n","The following parameters can be optionally supplied on the command line. See the 'Usage Scenarios/Examples' above for examples on how to supply parameters to Virtual Client profiles."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseName"}),(0,t.jsx)(n.td,{children:"Optional. Configure the name of database under test."}),(0,t.jsx)(n.td,{children:"sbtest"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseScenario"}),(0,t.jsx)(n.td,{children:"Optional. Configures the scenario in which to stress the database."}),(0,t.jsx)(n.td,{children:"Balanced"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"BenchmarkName"}),(0,t.jsx)(n.td,{children:"Required. Name of the Benchmark to run. (e.g. OLTP)"}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Duration"}),(0,t.jsx)(n.td,{children:"Required. Timespan duration of the workload."}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Workload"}),(0,t.jsxs)(n.td,{children:["Required. Name of benchmark to run; options listed ",(0,t.jsx)(n.a,{href:"./sysbench-oltp.md",children:"here"})]}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseSystem"}),(0,t.jsx)(n.td,{children:"Required. Name of SQL Server to use (ie. MySQL, PostgreSQL)"}),(0,t.jsx)(n.td,{children:"N/A"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:'The following additional parameters can be optionally supplied on the command line under the "Configure" scenario for a custom set up.'}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Threads"}),(0,t.jsx)(n.td,{children:"Optional. Number of threads to use during workload execution."}),(0,t.jsx)(n.td,{children:"vCPU * 8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"RecordCount"}),(0,t.jsx)(n.td,{children:"Optional. Number of records per table in the database (OLTP only)."}),(0,t.jsx)(n.td,{children:"10^(log2(vCPU) + 2)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"NumTables"}),(0,t.jsx)(n.td,{children:"Optional. Number of tables created in the database."}),(0,t.jsx)(n.td,{children:"10"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Profile Runtimes"}),(0,t.jsx)(n.br,{}),"\n","See the 'Metadata' section of the profile for estimated runtimes. These timings represent the length of time required to run a single round of profile actions. These timings can be used to determine minimum required runtimes for the Virtual Client in order to get results. These are often estimates based on the\nnumber of system cores."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Usage Examples"}),"\nThe following section provides a few basic examples of how to use the workload profile."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# When running on a single system (environment layout not required)\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Demo --timeout=1440" --packageStore="{BlobConnectionString|SAS Uri}\n\n# Override the default database name\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Demo --timeout=1440" --parameters="DatabaseName=mytestDB" --packageStore="{BlobConnectionString|SAS Uri}\n\n# When running in a client/server environment\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Demo --timeout=1440 --clientId=Client01 --layout="/any/path/to/layout.json" --packageStore="{BlobConnectionString|SAS Uri}\n./VirtualClient --profile=PERF-MYSQL-OLTP-SYSBENCH.json --system=Demo --timeout=1440 --clientId=Server01  --layout="/any/path/to/layout.json" --packageStore="{BlobConnectionString|SAS Uri}\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"perf-mysql-tpcc-sysbenchjson-and-perf-postgresql-tpcc-sysbenchjson",children:"PERF-MYSQL-TPCC-SYSBENCH.json and PERF-POSTGRESQL-TPCC-SYSBENCH.json"}),"\n",(0,t.jsx)(n.p,{children:"Runs a system-intensive workload using the Sysbench Benchmark to test the bandwidth of CPU, Memory, and Disk I/O."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Main/profiles/PERF-MYSQL-TPCC-SYSBENCH.json",children:"Workload Profile - MySQL"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Main/profiles/PERF-POSTGRESQL-TPCC-SYSBENCH.json",children:"Workload Profile - PostgreSQL"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supported Platform/Architectures"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"linux-x64"}),"\n",(0,t.jsx)(n.li,{children:"linux-arm64"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supports Disconnected Scenarios"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No. Internet connection required."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Dependencies"}),(0,t.jsx)(n.br,{}),"\n","The dependencies defined in the 'Dependencies' section of the profile itself are required in order to run the workload operations effectively."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Internet connection."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Additional information on components that exist within the 'Dependencies' section of the profile can be found in the following locations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://microsoft.github.io/VirtualClient/docs/category/dependencies/",children:"Installing Dependencies"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Profile Parameters"}),(0,t.jsx)(n.br,{}),"\n","The following parameters can be optionally supplied on the command line. See the 'Usage Scenarios/Examples' above for examples on how to supply parameters to Virtual Client profiles."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseName"}),(0,t.jsx)(n.td,{children:"Optional. Configure the name of database under test."}),(0,t.jsx)(n.td,{children:"sbtest"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseScenario"}),(0,t.jsx)(n.td,{children:"Optional. Configures the scenario in which to stress the database."}),(0,t.jsx)(n.td,{children:"Balanced"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"BenchmarkName"}),(0,t.jsx)(n.td,{children:"Required. Name of the Benchmark to run. (e.g. TPCC)"}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Duration"}),(0,t.jsx)(n.td,{children:"Required. Timespan duration of the workload."}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Workload"}),(0,t.jsx)(n.td,{children:'Required. Use "tpcc" workload.'}),(0,t.jsx)(n.td,{children:"N/A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DatabaseSystem"}),(0,t.jsx)(n.td,{children:"Required. Name of SQL Server to use (ie. MySQL, PostgreSQL)"}),(0,t.jsx)(n.td,{children:"N/A"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:'The following additional parameters can be optionally supplied on the command line under the "Configure" scenario for a custom set up.'}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Threads"}),(0,t.jsx)(n.td,{children:"Optional. Number of threads to use during workload execution."}),(0,t.jsx)(n.td,{children:"vCPU * 8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WarehouseCount"}),(0,t.jsx)(n.td,{children:"Optional. Number of warehouses per table in the database."}),(0,t.jsx)(n.td,{children:"100"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"NumTables"}),(0,t.jsx)(n.td,{children:"Optional. Number of tables created in the database."}),(0,t.jsx)(n.td,{children:"10"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Profile Runtimes"}),(0,t.jsx)(n.br,{}),"\n","See the 'Metadata' section of the profile for estimated runtimes. These timings represent the length of time required to run a single round of profile actions. These timings can be used to determine minimum required runtimes for the Virtual Client in order to get results. These are often estimates based on the\nnumber of system cores."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Usage Examples"}),"\nThe following section provides a few basic examples of how to use the workload profile."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# When running on a single system (environment layout not required)\n./VirtualClient --profile=PERF-MYSQL-TPCC-SYSBENCH.json --system=Demo --timeout=1440" --packageStore="{BlobConnectionString|SAS Uri}\n\n# Override the default database name\n./VirtualClient --profile=PERF-MYSQL-TPCC-SYSBENCH.json --system=Demo --timeout=1440" --parameters="DatabaseName=mytestDB" --packageStore="{BlobConnectionString|SAS Uri}\n\n# When running in a client/server environment\n./VirtualClient --profile=PERF-MYSQL-TPCC-SYSBENCH.json --system=Demo --timeout=1440 --clientId=Client01 --layout="/any/path/to/layout.json" --packageStore="{BlobConnectionString|SAS Uri}\n./VirtualClient --profile=PERF-MYSQL-TPCC-SYSBENCH.json --system=Demo --timeout=1440 --clientId=Server01  --layout="/any/path/to/layout.json" --packageStore="{BlobConnectionString|SAS Uri}\n'})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);
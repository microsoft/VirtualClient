[2021-12-10 04:02:20,818 GPU-vc-vcuser1-02:77038][runner.py:39][INFO] Runner uses config: {'version': 'v0.3', 'superbench': {'enable': None, 'var': {'default_local_mode': {'enable': True, 'modes': [{'name': 'local', 'proc_num': 1, 'prefix': 'CUDA_VISIBLE_DEVICES={proc_rank}', 'parallel': True}]}, 'default_pytorch_mode': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch']}, 'common_model_config': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train']}}, 'benchmarks': {'gpt_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['gpt2-small', 'gpt2-large'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 1}}, 'bert_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['bert-base', 'bert-large'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 2}}, 'lstm_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['lstm'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 32}}, 'resnet_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['resnet50', 'resnet101', 'resnet152'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 32}}, 'densenet_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['densenet169', 'densenet201'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 32}}, 'vgg_models': {'enable': True, 'modes': [{'name': 'torch.distributed', 'proc_num': 1, 'node_num': 1}], 'frameworks': ['pytorch'], 'models': ['vgg11', 'vgg13', 'vgg16', 'vgg19'], 'parameters': {'duration': 0, 'num_warmup': 16, 'num_steps': 128, 'precision': ['float32', 'float16'], 'model_action': ['train'], 'batch_size': 32}}}}}.
[2021-12-10 04:02:20,819 GPU-vc-vcuser1-02:77038][runner.py:40][INFO] Runner writes to: /home/testuser/vc/packages/superbenchmark/outputs/2021-12-10_04-02-20.
[2021-12-10 04:02:20,823 GPU-vc-vcuser1-02:77038][runner.py:45][INFO] Runner will run: ['gpt_models', 'bert_models', 'lstm_models', 'resnet_models', 'densenet_models', 'vgg_models']
[2021-12-10 04:02:20,824 GPU-vc-vcuser1-02:77038][runner.py:173][INFO] Checking SuperBench environment.
[2021-12-10 04:02:20,833 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook check_env.yaml ...
[2021-12-10 04:02:24,350 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:02:24,353 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {'localhost': 1}, 'ok': {'localhost': 5}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:02:24,354 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run gpt_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:02:24,354 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=gpt_models superbench.benchmarks.gpt_models.parameters.distributed_impl=ddp superbench.benchmarks.gpt_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:02:24,354 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:03:55,292 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:03:55,293 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:03:55,294 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:03:57,353 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:03:57,355 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:03:57,356 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run bert_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:03:57,357 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=bert_models superbench.benchmarks.bert_models.parameters.distributed_impl=ddp superbench.benchmarks.bert_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:03:57,357 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:05:46,381 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:05:46,382 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:05:46,382 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:05:48,456 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:05:48,458 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:05:48,459 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run lstm_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:05:48,460 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=lstm_models superbench.benchmarks.lstm_models.parameters.distributed_impl=ddp superbench.benchmarks.lstm_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:05:48,460 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:17:42,605 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:17:42,606 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:17:42,606 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:17:44,702 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:17:44,703 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:17:44,704 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run resnet_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:17:44,705 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=resnet_models superbench.benchmarks.resnet_models.parameters.distributed_impl=ddp superbench.benchmarks.resnet_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:17:44,705 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:27:50,626 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:27:50,627 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:27:50,627 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:27:52,726 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:27:52,728 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:27:52,729 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run densenet_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:27:52,729 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=densenet_models superbench.benchmarks.densenet_models.parameters.distributed_impl=ddp superbench.benchmarks.densenet_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:27:52,729 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:34:56,752 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:34:56,753 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:34:56,754 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:34:58,834 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:34:58,836 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:34:58,837 GPU-vc-vcuser1-02:77038][runner.py:311][INFO] Runner is going to run vgg_models in torch.distributed mode, proc rank 0.
[2021-12-10 04:34:58,838 GPU-vc-vcuser1-02:77038][ansible.py:101][INFO] Run docker exec sb-workspace bash -c 'set -o allexport && source sb.env && set +o allexport && python3 -m torch.distributed.launch --use_env --no_python --nproc_per_node=1 sb exec --output-dir outputs/2021-12-10_04-02-20 -c sb.config.yaml -C superbench.enable=vgg_models superbench.benchmarks.vgg_models.parameters.distributed_impl=ddp superbench.benchmarks.vgg_models.parameters.distributed_backend=nccl' on remote ...
[2021-12-10 04:34:58,838 GPU-vc-vcuser1-02:77038][ansible.py:70][INFO] Run as sudo ...
[2021-12-10 04:47:11,054 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:47:11,055 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 1}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}
[2021-12-10 04:47:11,055 GPU-vc-vcuser1-02:77038][ansible.py:119][INFO] Run playbook fetch_results.yaml ...
[2021-12-10 04:47:13,152 GPU-vc-vcuser1-02:77038][ansible.py:74][INFO] Run succeed, return code 0.
[2021-12-10 04:47:13,154 GPU-vc-vcuser1-02:77038][ansible.py:77][INFO] {'skipped': {}, 'ok': {'localhost': 2}, 'dark': {}, 'failures': {}, 'ignored': {}, 'rescued': {}, 'processed': {'localhost': 1}, 'changed': {'localhost': 1}}

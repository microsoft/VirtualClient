{
  "Description": "MongoDB Workload",
  "Metadata": {
    "RecommendedMinimumExecutionTime": "00:05:00",
    "SupportedPlatforms": "linux-x64",
    "SupportedOperatingSystems": "Ubuntu"
  },
  "Parameters": {
    "OperationCount": 100,
    "RecordCount": 100,
    "ThreadCount": "{calculate({LogicalCoreCount}/2)}"
  },
  "Actions": [
    {
      "Type": "MongoDBExecutor",
      "Parameters": {
        "Scenario": "SingleClientMongoDB",
        "PackageName": "mongodb",
        "YCSBPackageName": "ycsb",
        "JdkPackageName": "javadevelopmentkit",
        "OperationCount": "$.Parameters.OperationCount",
        "RecordCount": "$.Parameters.RecordCount",
        "ThreadCount": "$.Parameters.ThreadCount",
        "Tags": ""
      }
    }
  ],
  "Dependencies": [
    {
      "Type": "DependencyPackageInstallation",
      "Parameters": {
        "Scenario": "InstallJDKPackage",
        "BlobContainer": "packages",
        "BlobName": "microsoft-jdk-17.0.9.zip",
        "PackageName": "javadevelopmentkit",
        "Extract": true
      }
    },
    {
      "Type": "JavaDevelopmentKitInstallation",
      "Parameters": {
        "Scenario": "InstallJDK",
        "PackageName": "javadevelopmentkit"
      }
    },
    {
      "Type": "DependencyPackageInstallation",
      "Parameters": {
        "Scenario": "InstallYCSBPackage",
        "BlobContainer": "packages",
        "BlobName": "ycsb-0.5.0.zip",
        "PackageName": "ycsb",
        "Extract": true
      }
    },
    {
      "Type": "LinuxPackageInstallation",
      "Parameters": {
        "Scenario": "InstallLinuxPackages",
        "Packages": "python3-pip"
      }
    },
    {
      "Type": "WgetPackageInstallation",
      "Parameters": {
        "Scenario": "InstallMongoDBPackage",
        "PackageName": "mongodb",
        "PackageUri": "http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu2004-5.0.15.tgz",
        "Notes": ""
      }
    }
  ]
}
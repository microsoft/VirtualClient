{
    "Description": "Installs the PowerShell 7 (pwsh.exe) on a remote system.",
    "Metadata": {
        "SupportedPlatforms": "linux-x64,linux-arm64,win-x64,win-arm64"
    },
    "Parameters": {
        "SshTarget": null,
        "SshPassword": null
    },
    "Actions": [
        {
            "Type": "WaitExecutor",
            "Parameters": {
                "Scenario": "Initialize",
                "Duration": "00:00:01"
            }
        }
    ],
    "Dependencies": [
        {
            "Type": "RemoteAgentExecutor",
            "Parameters": {
                "Scenario": "InstallPwshOnTarget",
                "Command": "\"{PackagePath/Platform:system_setup}/install-pwsh.sh\"",
                "SshTarget": "$.Parameters.SshTarget",
                "SshPassword": "$.Parameters.SshPassword",
                "SupportedPlatforms": "linux-arm64,linux-x64",
                "Tags": "VC,SSH,Controller,PowerShell"
            }
        },
        {
            "Type": "RemoteAgentExecutor",
            "Parameters": {
                "Scenario": "InstallPwshOnTarget",
                "Command": "\"{PackagePath/Platform:system_setup}\\install-pwsh.cmd\"",
                "SshTarget": "$.Parameters.SshTarget",
                "SshPassword": "$.Parameters.SshPassword",
                "SupportedPlatforms": "win-arm64,win-x64",
                "Tags": "VC,SSH,Controller,PowerShell"
            }
        }
    ]
}
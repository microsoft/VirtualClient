{
  "Description": "High Performance Linpack Performance workload",
  "Metadata": {
    "RecommendedMinimumExecutionTime": "00:01:00",
    "SupportedPlatforms": "linux-x64,linux-arm64",
    "SupportedOperatingSystems": "Ubuntu"
  },
  "Parameters": {
    "Username": "null",
    "CompilerName": "gcc",
    "CompilerVersion": "11"
  },
  "Actions": [
    {
      "Type": "HPLinpackExecutor",
      "Parameters": {
        "Scenario": "ProcessorSpeed",
        "Username": "$.Parameters.Username",
        "PackageName": "HPL",
        "ProblemSizeN": null,
        "BlockSizeNB": "256",
        "CCFLAGS": "$(HPL_DEFS) -Ofast -march=armv8-a",
        "Version": "2.3",
        "ARMPerformanceLibrariesPackageName": "arm_performance_libraries"
      }
    }
  ],
  "Dependencies": [
    {
      "Type": "LinuxPackageInstallation",
      "Parameters": {
        "Scenario": "InstallRequiredLinuxPackagesForHPL",
        "Repositories-Apt": "ppa:ubuntu-toolchain-r/test",
        "Packages": "build-essential,linux-generic,libmpich-dev,libopenmpi-dev,libatlas-base-dev"
      }
    },
    {
      "Type": "CompilerInstallation",
      "Parameters": {
        "CompilerName": "$.Parameters.CompilerName",
        "CompilerVersion": "$.Parameters.CompilerVersion"
      }
    },
    {
      "Type": "DependencyPackageInstallation",
      "Parameters": {
        "Scenario": "InstallARMPerformanceLibrariesPackage",
        "BlobContainer": "packages",
        "BlobName": "armperformancelibraries.zip",
        "PackageName": "arm_performance_libraries",
        "Extract": true
      }
    }
  ]
}
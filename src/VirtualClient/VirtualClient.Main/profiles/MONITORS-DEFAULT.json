{
  "Description": "Default Monitors",
  "Parameters": {
    "ProfilingEnabled": false,
    "ProfilingMode": "Interval",
    "SystemMonitoringEnabled": false,
    "MonitorFrequency": "00:05:00",
    "MonitorWarmupPeriod": "00:05:00",
    "MonitorFrequency_AzurePerfCollector": "00:05:00",
    "MonitorWarmupPeriod_AzurePerfCollector": "00:05:00"
  },
  "Dependencies": [
    {
      "Type": "LinuxPackageInstallation",
      "Parameters": {
        "Scenario": "InstallEpelPackageForRHELAndCentOS",
        "Packages-Mariner": "https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm",
        "Packages-RHEL8": "https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm",
        "Packages-RHEL7": "https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm",
        "Packages-CentOS7": "epel-release"
      }
    },
    {
      "Type": "LinuxPackageInstallation",
      "Parameters": {
        "Scenario": "InstallAtop",
        "Packages": "atop",
        "AllowUpgrades": true
      }
    }
  ],
  "Monitors": [
    {
      "Type": "PerfCounterMonitor",
      "Parameters": {
        "Scenario": "CaptureCounters",
        "MonitorFrequency": "$.Parameters.MonitorFrequency",
        "MonitorWarmupPeriod": "$.Parameters.MonitorWarmupPeriod"
      }
    },
    {
      "Type": "AzurePerfCollectorMonitor",
      "Parameters": {
        "Scenario": "CaptureAzurePerfCounters",
        "PackageName": "azureperfcollector",
        "MonitorFrequency": "$.Parameters.MonitorFrequency_AzurePerfCollector",
        "MonitorWarmupPeriod": "$.Parameters.MonitorWarmupPeriod_AzurePerfCollector"
      }
    },
    {
      "Type": "AzureProfilerMonitor",
      "Parameters": {
        "Scenario": "CaptureProfiles",
        "PackageName": "azureprofiler",
        "ProfilingEnabled": "$.Parameters.ProfilingEnabled",
        "ProfilingMode": "$.Parameters.ProfilingMode",
        "ProfilingPeriod": "00:00:30",
        "ProfilingInterval": "00:01:00",
        "ProfilingWarmupPeriod": "00:00:00",
        "ProfileDataUploadInterval": "00:00:30"
      }
    },
    {
      "Type": "SystemLogMonitor",
      "Parameters": {
        "Scenario": "CaptureSystemLogs",
        "MonitorEnabled": "$.Parameters.SystemMonitoringEnabled",
        "MonitorFrequency": "00:05:00",
        "MonitorWarmupPeriod": "00:00:00"
      }
    }
  ]
}